/**
 * Carousel Component Styles
 * Swiper-based with Bootstrap theming
 */

@import 'bootstrap/scss/variables';

.carousel-container {
  position: relative;
  width: 100%;
  overflow: hidden;
}

// Swiper overrides for Bootstrap theming
.swiper {
  width: 100%;
  height: 100%;
}

.swiper-slide {
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: #f8f9fa;

  img {
    max-width: 100%;
    height: auto;
    object-fit: cover;
  }
}

// Navigation buttons
.swiper-button-prev,
.swiper-button-next {
  color: #0d6efd;
  width: 44px;
  height: 44px;

  &:after {
    font-size: 1.5rem;
  }

  &:focus {
    outline: none;
  }

  &:focus-visible {
    outline: 2px solid currentColor;
    outline-offset: 2px;
  }

  &:hover {
    color: #0a58ca;
  }
}

// Pagination dots
.swiper-pagination {
  bottom: 10px !important;
}

.swiper-pagination-bullet {
  width: 12px;
  height: 12px;
  background-color: rgba(0, 0, 0, 0.3);
  opacity: 1;

  &:focus {
    outline: none;
  }

  &:focus-visible {
    outline: 2px solid #0d6efd;
    outline-offset: 2px;
  }

  &-active {
    background-color: #0d6efd;
  }
}

// Brand-specific carousels - Energia
.carousel-brand-energia {
  .swiper-button-prev,
  .swiper-button-next {
    color: #00a651;

    &:hover {
      color: #00783c;
    }
  }

  .swiper-pagination-bullet-active {
    background-color: #00a651;
  }

  .swiper-pagination-bullet:focus-visible {
    outline-color: #00a651;
  }
}

// Brand-specific carousels - PowerNI
.carousel-brand-powerni {
  .swiper-button-prev,
  .swiper-button-next {
    color: #0066b3;

    &:hover {
      color: #004080;
    }
  }

  .swiper-pagination-bullet-active {
    background-color: #0066b3;
  }

  .swiper-pagination-bullet:focus-visible {
    outline-color: #0066b3;
  }
}

// Responsive adjustments
@media (max-width: 768px) {
  .swiper-button-prev,
  .swiper-button-next {
    display: none;
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  .swiper {
    .swiper-slide {
      transition: none !important;
    }
  }

  .swiper-button-prev,
  .swiper-button-next {
    transition: none !important;
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  .swiper-button-prev,
  .swiper-button-next {
    &:focus-visible {
      outline-width: 3px !important;
    }
  }

  .swiper-pagination-bullet {
    border: 2px solid #000;

    &-active {
      border-width: 3px;
    }

    &:focus-visible {
      outline-width: 3px !important;
    }
  }
}

// Ensure minimum touch target size
.swiper-button-prev,
.swiper-button-next,
.swiper-pagination-bullet {
  min-width: 44px;
  min-height: 44px;
}

// Loading state
.carousel-container[aria-busy='true'] {
  &::after {
    content: 'Loading...';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(255, 255, 255, 0.9);
    padding: 1rem 2rem;
    border-radius: 0.25rem;
  }
}
